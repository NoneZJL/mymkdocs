
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://example.com/Lessons/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/chapter03/">
      
      
        <link rel="prev" href="../chapter02/">
      
      
        <link rel="next" href="../chapter04/">
      
      
      <link rel="icon" href="../../../images/下雪.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.30">
    
    
      
        <title>chapter3 | 数据链路层 - NoneZJL的个人笔记</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    

      
    
<script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
    };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-link-layer" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="NoneZJL的个人笔记" class="md-header__button md-logo" aria-label="NoneZJL的个人笔记" data-md-component="logo">
      
  <img src="../../../images/logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NoneZJL的个人笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              chapter3 | 数据链路层
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/NoneZJL/mymkdocs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    NoneZJL's notebook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  主页

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/" class="md-tabs__link">
          
  
    
  
  课程

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Tools/mkdocs%E4%BD%BF%E7%94%A8/" class="md-tabs__link">
          
  
    
  
  工具

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../about/" class="md-tabs__link">
        
  
    
  
  关于我

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="NoneZJL的个人笔记" class="md-nav__button md-logo" aria-label="NoneZJL的个人笔记" data-md-component="logo">
      
  <img src="../../../images/logo.jpg" alt="logo">

    </a>
    NoneZJL的个人笔记
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/NoneZJL/mymkdocs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    NoneZJL's notebook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    主页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    课程
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            课程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机系统原理
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            计算机系统原理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/chapter1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter 1 | 计算机抽象及相关技术
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/chapter2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter 2 | 指令——计算机的语言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/chapter3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter 3 | 计算机的算数运算
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机网络
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            计算机网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter1 | 引言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter2 | 物理层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    chapter3 | 数据链路层
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    chapter3 | 数据链路层
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层的设计问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层的设计问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层在协议栈中的位置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层的功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层提供的服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#framing" class="md-nav__link">
    <span class="md-ellipsis">
      成帧（Framing）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      差错控制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      流量控制
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      差错检测和纠正
    </span>
  </a>
  
    <nav class="md-nav" aria-label="差错检测和纠正">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      差错检测和纠正概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      典型检错码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      典型纠错码
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      基本的数据链路层协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="基本的数据链路层协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      物理层、数据链路层和网络层的实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      关键假设
    </span>
  </a>
  
    <nav class="md-nav" aria-label="关键假设">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      分层进程独立假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      提供可靠服务假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      只处理通信错误假设
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      基本的协议定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      乌托邦式单工协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="乌托邦式单工协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      乌托邦：完美但不现实的协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      代码举例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      无错信道上的停等式协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无错信道上的停等式协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      不再假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      仍然假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stop-and-wait" class="md-nav__link">
    <span class="md-ellipsis">
      停-等式协议（stop-and-wait）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      代码举例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      有错信道上的单工停等式协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="有错信道上的单工停等式协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      一个简单的解决方案
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      考虑一个特别场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      其他的场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seqsequence-number" class="md-nav__link">
    <span class="md-ellipsis">
      序号（SEQ：sequence number）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="序号（SEQ：sequence number）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bits" class="md-nav__link">
    <span class="md-ellipsis">
      序号所需要的最小位数（bits）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      自动重复请求，或带有重传的肯定确认
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      代码举例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      效率的评估
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      停止等待协议的效率问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="停止等待协议的效率问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      信道利用率很低
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      一种提高效率的方法：使用更大的帧
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="滑动窗口协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      停等协议的性能问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="停等协议的性能问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    <span class="md-ellipsis">
      停止-等待机制降低了信道利用率
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      解决办法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      协议基本思想
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议基本思想">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      窗口机制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      目的
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      序号使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      流量控制：接收窗口驱动发送窗口的转动
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      累计确认
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      发送窗口和接收窗口
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      协议的实现分析
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#n" class="md-nav__link">
    <span class="md-ellipsis">
      回退N协议（滑动窗口协议）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="回退N协议（滑动窗口协议）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      协议设计思想
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议设计思想">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      出错全部重发
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      协议原理分析
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议原理分析">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      基本原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口长度
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      协议的实现分析
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议的实现分析">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      实现要点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      两个窗口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      发送方必须响应的三件事
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      发送方
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      接受方
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    <span class="md-ellipsis">
      基本实现过程
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_62" class="md-nav__link">
    <span class="md-ellipsis">
      选择重传协议（滑动窗口协议）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="选择重传协议（滑动窗口协议）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    <span class="md-ellipsis">
      协议设计思想
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议设计思想">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    <span class="md-ellipsis">
      设计思想
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    <span class="md-ellipsis">
      协议原理分析
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议原理分析">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    <span class="md-ellipsis">
      基本原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口长度
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_70" class="md-nav__link">
    <span class="md-ellipsis">
      实现要点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_71" class="md-nav__link">
    <span class="md-ellipsis">
      两个窗口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_72" class="md-nav__link">
    <span class="md-ellipsis">
      发送方必须响应的三件事
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_73" class="md-nav__link">
    <span class="md-ellipsis">
      实现过程
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路协议实例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路协议实例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ppp" class="md-nav__link">
    <span class="md-ellipsis">
      点到点链路层协议PPP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="点到点链路层协议PPP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ppp_1" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议简介
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_2" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议实现的功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_3" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议未实现的功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_4" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议的构成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_5" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议的帧格式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_6" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议的工作状态及转换
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PPPoE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    <span class="md-ellipsis">
      概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe_1" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE组网方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe_2" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE报文格式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe_3" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE工作过程
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter4 | 介质访问子层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter5 | 网络层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter6 | 传输层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter07/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter7 | 应用层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter08/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter8 | 网络安全
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../review/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    复习碎碎念
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    操作系统
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            操作系统
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter01 | 介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter02 | OS结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter03 | 进程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter04 | 线程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter05 | 进程调度
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter06 | 进程同步
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter07 | 死锁
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter08 | 内存
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter09 | 虚拟内存
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter10 | 文件系统接口
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter11 | 文件系统实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter12 | 海量存储系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/chapter13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chapter13 | I/O系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/review/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    复习碎碎念
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tools/mkdocs%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mkdocs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tools/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tools/elasticsearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ElasticSearch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tools/Latex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Latex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Redis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Redis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tools/Redis/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安装
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tools/Redis/chapter01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis 命令
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于我
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层的设计问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层的设计问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层在协议栈中的位置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层的功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路层提供的服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#framing" class="md-nav__link">
    <span class="md-ellipsis">
      成帧（Framing）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      差错控制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      流量控制
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      差错检测和纠正
    </span>
  </a>
  
    <nav class="md-nav" aria-label="差错检测和纠正">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      差错检测和纠正概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      典型检错码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      典型纠错码
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      基本的数据链路层协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="基本的数据链路层协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      物理层、数据链路层和网络层的实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      关键假设
    </span>
  </a>
  
    <nav class="md-nav" aria-label="关键假设">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      分层进程独立假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      提供可靠服务假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      只处理通信错误假设
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      基本的协议定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      乌托邦式单工协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="乌托邦式单工协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      乌托邦：完美但不现实的协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      代码举例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      无错信道上的停等式协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无错信道上的停等式协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      不再假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      仍然假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stop-and-wait" class="md-nav__link">
    <span class="md-ellipsis">
      停-等式协议（stop-and-wait）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      代码举例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      有错信道上的单工停等式协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="有错信道上的单工停等式协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      假设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      一个简单的解决方案
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      考虑一个特别场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      其他的场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seqsequence-number" class="md-nav__link">
    <span class="md-ellipsis">
      序号（SEQ：sequence number）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="序号（SEQ：sequence number）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bits" class="md-nav__link">
    <span class="md-ellipsis">
      序号所需要的最小位数（bits）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      自动重复请求，或带有重传的肯定确认
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      代码举例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      效率的评估
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      停止等待协议的效率问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="停止等待协议的效率问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      信道利用率很低
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      一种提高效率的方法：使用更大的帧
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="滑动窗口协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      停等协议的性能问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="停等协议的性能问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    <span class="md-ellipsis">
      停止-等待机制降低了信道利用率
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      解决办法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      协议基本思想
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议基本思想">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      窗口机制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      目的
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      序号使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      流量控制：接收窗口驱动发送窗口的转动
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      累计确认
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      发送窗口和接收窗口
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      协议的实现分析
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#n" class="md-nav__link">
    <span class="md-ellipsis">
      回退N协议（滑动窗口协议）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="回退N协议（滑动窗口协议）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      协议设计思想
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议设计思想">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      出错全部重发
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      协议原理分析
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议原理分析">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      基本原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口长度
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      协议的实现分析
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议的实现分析">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      实现要点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      两个窗口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      发送方必须响应的三件事
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      发送方
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      接受方
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    <span class="md-ellipsis">
      基本实现过程
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_62" class="md-nav__link">
    <span class="md-ellipsis">
      选择重传协议（滑动窗口协议）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="选择重传协议（滑动窗口协议）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    <span class="md-ellipsis">
      协议设计思想
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议设计思想">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    <span class="md-ellipsis">
      设计思想
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    <span class="md-ellipsis">
      适用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    <span class="md-ellipsis">
      优缺点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    <span class="md-ellipsis">
      协议原理分析
    </span>
  </a>
  
    <nav class="md-nav" aria-label="协议原理分析">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    <span class="md-ellipsis">
      基本原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    <span class="md-ellipsis">
      滑动窗口长度
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_70" class="md-nav__link">
    <span class="md-ellipsis">
      实现要点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_71" class="md-nav__link">
    <span class="md-ellipsis">
      两个窗口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_72" class="md-nav__link">
    <span class="md-ellipsis">
      发送方必须响应的三件事
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_73" class="md-nav__link">
    <span class="md-ellipsis">
      实现过程
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    <span class="md-ellipsis">
      数据链路协议实例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路协议实例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ppp" class="md-nav__link">
    <span class="md-ellipsis">
      点到点链路层协议PPP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="点到点链路层协议PPP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ppp_1" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议简介
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_2" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议实现的功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_3" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议未实现的功能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_4" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议的构成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_5" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议的帧格式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_6" class="md-nav__link">
    <span class="md-ellipsis">
      PPP协议的工作状态及转换
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PPPoE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    <span class="md-ellipsis">
      概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe_1" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE组网方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe_2" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE报文格式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pppoe_3" class="md-nav__link">
    <span class="md-ellipsis">
      PPPoE工作过程
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="data-link-layer">Data Link Layer</h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8V2m6.78 1a.69.69 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38-2.5-2.5Z"/></svg></span> 约 6445 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71Z"/></svg></span> 62 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3L12.5 13Z"/></svg></span> 预计阅读时间 43 分钟</p>
</div>
<h2 id="_1">数据链路层的设计问题</h2>
<h3 id="_2">数据链路层在协议栈中的位置</h3>
<ul>
<li>向下：利用物理层提供的位流服务</li>
<li>向上：向网络层提供明确的 (well-defined) 服务接口</li>
</ul>
<p><img alt="a" class="width-and-center" src="../photos/image-20240926121300355.png" /></p>
<h3 id="_3">数据链路层的功能</h3>
<ul>
<li><strong>成帧 （Framing）</strong><ol>
<li>将比特流划分成“帧”的主要目的是为了检测和纠正物理层在比特传输中可能出现的错误，数据链路层功能需借助“帧”的各个域来实现</li>
</ol>
</li>
<li><strong>差错控制 （Error Control）</strong><ol>
<li>处理传输中出现的差错，如位错误、丢失等</li>
</ol>
</li>
<li><strong>流量控制 （Flow Control）</strong><ol>
<li>确保发送方的发送速率，不大于接收方的处理速率<ol>
<li>避免接收缓冲区溢出</li>
</ol>
</li>
</ol>
</li>
</ul>
<h3 id="_4">数据链路层提供的服务</h3>
<ul>
<li>无确认 无连接 服务（ Unacknowledged connectionless ）<ol>
<li>接收方不对收到的帧进行确认</li>
<li>适用场景：误码率低的可靠信道；实时通信</li>
<li>网络实例：以太网</li>
</ol>
</li>
<li>有确认 无连接 服务（ Acknowledged connectionless ）<ol>
<li>每一帧都得到单独的确认</li>
<li>适用场景：不可靠的信道（无线信道）</li>
<li>网络实例：802.11</li>
</ol>
</li>
<li>有确认 有连接 服务（ Acknowledged connection-oriented ）<ol>
<li>适用场景：长延迟的不可靠信道</li>
</ol>
</li>
</ul>
<h3 id="framing">成帧（Framing）</h3>
<ul>
<li>分组 (packet) 与 帧(frame)的关系</li>
</ul>
<p><img alt="a" src="../photos/image-20241010090009848.png" width="600px" /></p>
<ul>
<li>
<p>关键问题：如何标识一个帧的开始？</p>
<ol>
<li>接收方必须能从物理层接收的比特流中明确区分出一帧的开始和结束，这个问题被称为帧同步或帧定界</li>
<li>关键：选择何种<strong>定界符</strong>？定界符出现在数据部分如何处理？</li>
</ol>
</li>
<li>
<p>成帧（framing）的方式</p>
<ol>
<li>字节计数法（ Byte count ）</li>
<li>带<strong>字节</strong>填充的定界符法（ Flag bytes with <strong>byte</strong> stuffing ）</li>
<li>带<strong>比特</strong>填充的定界符法（ Flag bits with <strong>bit</strong> stuffing ）</li>
<li><strong>物理层</strong>编码违例（ Physical layer coding violations ）</li>
</ol>
</li>
<li>
<p><strong>字节计数法</strong></p>
<p><strong>无差错</strong>传输的情形<br />
<img alt="image-20241010090522017" src="../photos/image-20241010090522017.png" width="600px" /></p>
<ul>
<li>问题：如果某个计数字节出错会发生什么情况？</li>
</ul>
<p>出现了<strong>一个字节差错</strong>的情形</p>
<p><img alt="image-20241010090646338" src="../photos/image-20241010090646338.png" width="600px" /></p>
<p>破坏了帧的边界，导致一连串帧的错误。</p>
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> 如果出现一处错误，后续都会错误，因此实际中基本没有被使用。</p>
</li>
<li>
<p><strong>带字节填充的定界符法</strong></p>
<ol>
<li><strong>定界符（FLAG）</strong>：一个特殊的字节，比如 01111110，即 0x7E，用于区分前后两个不同的帧 <br />
<img alt="image-20241010091024147" src="../photos/image-20241010091024147.png" width="600px" /></li>
<li>发送方检查有效载荷，进行字节填充 <br />
<img alt="image-20241010091137318" src="../photos/image-20241010091137318.png" width="600px" /></li>
<li>接收方的处理<ol>
<li>逐个检查收到的每一个字节</li>
<li>收到ESC：则后一字节无条件成为有效载荷，不予检查</li>
<li>收到FLAG：则为帧的边界</li>
<li>示例  <br />
<img alt="image-20241010091413304" src="../photos/image-20241010091413304.png" width="600px" /></li>
</ol>
</li>
<li>带字节填充的定界符法的不足：Overhead 较大，不是数据本身的内容占据的太多</li>
</ol>
</li>
<li>
<p><strong>带比特填充的定界符法</strong></p>
<ol>
<li>定界符：两个0比特之间，连续6个1比特，即01111110，0x7E  <br />
<img alt="sss" src="../photos/image-20241010091800626.png" width="600px" /> <br />
<img alt="❓" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2753.svg" title=":question:" /> 如果有效载荷部分包含与“定界符”相同的位组合如何解决？</li>
<li>发送方检查有效载荷<ul>
<li>若在<strong>有效载荷</strong>中出现连续5个1比特，则直接插入1个0比特  <br />
<img alt="image-20241010092229546" src="../photos/image-20241010092229546.png" width="600px" /></li>
</ul>
</li>
<li>接收方的处理<ol>
<li>若出现连续5个1比特</li>
<li>若下一比特为0，则为有效载荷，直接丢弃0比特</li>
<li>若下一比特为1，则连同后一比特的0，构成定界符，一帧结束 <br />
<img alt="image-20241010092328430" src="../photos/image-20241010092328430.png" width="600px" /></li>
</ol>
</li>
</ol>
</li>
<li>
<p><strong>物理层编码违例</strong></p>
<ol>
<li>核心思想：选择的定界符不会在数据部分出现</li>
<li>4B/5B编码方案<ol>
<li>4比特数据映射成5比特编码，剩余的一半码字（16个码字）未使用，可以用做帧定界符</li>
<li>例如： 00110组合不包含在4B/5B编码中，可做帧定界符</li>
</ol>
</li>
<li>前导码<ol>
<li>存在很长的 前导码（preamble），可以用作定界符</li>
<li>例如：传统以太网、802.11</li>
</ol>
</li>
<li>曼切斯特编码 / 差分曼切斯特编码<ol>
<li>正常的信号在周期中间有跳变，持续的高电平（或低电平）为违例码，可以用作定界符</li>
<li>例如：802.5令牌环网</li>
</ol>
</li>
</ol>
</li>
</ul>
<h3 id="_5">差错控制</h3>
<ul>
<li>链路层存在的一个问题：<strong>信道的噪声导致数据传输问题</strong><ol>
<li>差错（ incorrect ）：数据发生错误</li>
<li>丢失（ lost ）：接收方未收到</li>
<li>乱序（out of order）：先发后到，后发先到</li>
<li>重复（repeatedly delivery）：一次发送，多次接收</li>
</ol>
</li>
<li>解决方案：<strong>差错检测与纠正、确认重传</strong><ol>
<li>确认：接收方校验数据（差错校验），并给发送方应答，防止差错</li>
<li>定时器：发送方启动定时器，防止丢失</li>
<li>顺序号：接收方检查序号，防止乱序递交、重复递交</li>
</ol>
</li>
</ul>
<h3 id="_6">流量控制</h3>
<ul>
<li>链路层存在的另一个问题：<strong>接收方的处理速率</strong><ol>
<li>接收方的接收缓冲区溢出</li>
</ol>
</li>
<li>解决方案<ol>
<li>基于反馈 (feedback-based) 的流量控制<ul>
<li>接收方反馈，发送方调整发送速率</li>
</ul>
</li>
<li>基于速率 (rate-based) 的流量控制<ul>
<li>发送方根据内建机制，自行限速</li>
</ul>
</li>
</ol>
</li>
</ul>
<h2 id="_7">差错检测和纠正</h2>
<h3 id="_8">差错检测和纠正概述</h3>
<ul>
<li>如何解决信道传输差错问题<ol>
<li>通常采用增加冗余信息（或称校验信息）的策略</li>
<li>简单示例：每个比特传三份，如果每比特的三份中有一位出错，可以纠正  <br />
<img alt="image-20241010100137028" src="../photos/image-20241010100137028.png" />  <br />
<strong>存在的问题</strong>：携带2/3的冗余信息！冗余信息量大！</li>
</ol>
</li>
<li>目标：保证一定差错检测和纠错能力的前提下，减少冗余信息量</li>
<li>两种主要策略<ol>
<li>检错码(error-detecting code)</li>
<li>纠错码(error-correcting code)</li>
</ol>
</li>
<li><strong>检错码（error-detecting code）</strong><ol>
<li>在被发送的数据块中，包含一些冗余信息，但这些信息只能使接收方推断是否发生错误，但不能推断哪位发生错误，接收方可以请求发送方重传数据</li>
<li>主要用在<strong>高可靠、误码率较低</strong>的信道上，例如光纤链路</li>
<li>偶尔发生的差错，可以通过重传解决差错问题</li>
</ol>
</li>
<li><strong>纠错码(error-correcting code)</strong><ol>
<li>发送方在每个数据块中加入足够的冗余信息，使得接收方能够判断接收到的数据是否有错，并能纠正错误（<strong>定位出错的位置</strong>）</li>
<li>主要用于<strong>错误发生比较频繁</strong>的信道上，如无线链路</li>
<li>也经常用于物理层，以及更高层(例如，实时流媒体应用和内容分发)</li>
<li>使用纠错码的技术通常称为前向纠错(FEC，Forward Error Correction)</li>
<li><strong>具有纠错能力上限</strong></li>
</ol>
</li>
<li>码字 (code word)：一个包含m个数据位和r个校验位的n位单元<ol>
<li>描述为 (n, m) 码，n=m+r</li>
</ol>
</li>
<li>码率 (code rate)：码字中不含冗余部分所占的比例，可以用m/n表示</li>
<li><strong>海明距离 (Hamming distance)</strong><ol>
<li><strong>两个码字的海明距离</strong>：两个码字之间不同对应比特的数目<ol>
<li>例：0000000000 与0000011111的海明距离为5</li>
<li>如果两个码字的海明距离为d，则需要d个单比特错就可以把一个码字转换成另一个码字</li>
</ol>
</li>
<li><strong>一种编码方案（code）的海明距离</strong><ol>
<li>该编码方案中<strong>任意两个合法码字（编码方案中在正常情况下会出现的码字）的最小海明距离</strong></li>
</ol>
</li>
<li><strong>Ex1</strong>: the Hamming distance of 2 codewords (10001001 and 10110001) is 3</li>
<li><strong>Ex2</strong>: consider a coding scheme:<ol>
<li>00 =&gt; 00000 00000</li>
<li>01 =&gt; 00000 11111</li>
<li>10 =&gt; 11111 00000</li>
<li>11 =&gt; 11111 11111</li>
<li>Its Hamming distance is 5</li>
<li>（直觉上）对于这种编码方案，最多能纠正的字符为2位，3位就会出现错误偏转</li>
</ol>
</li>
<li><strong>The error-detection and error-correcting properties of a code depend on its Hamming distance.</strong><ol>
<li>To detect <em>d</em> errors（找错）:<ol>
<li>you need <em>d+1</em> Hamming distance code. (Because with such a code there is no way that <em>d</em> single-bit errors can change a valid code into another valid codeword). <br />
<img alt="🎫" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f3ab.svg" title=":ticket:" /> 任意两个合法码字之间的海明距离为 d+1，意味着当偏移 d bit时，依然无法便宜到另外一个合法码字</li>
<li><strong>Ex2</strong>: can detect 4 bit errors.</li>
<li><strong>Ex3</strong>: can detect single errors. </li>
</ol>
</li>
<li>To use Hamming distance to correct <em>d</em> errors（纠错）:<ol>
<li>you need <em>2d</em>+1 Hamming distance code. 
也就是说，能够纠正时的最大偏移的码字数量为海明距离/2，取下界</li>
<li><strong>Ex2</strong>: <ol>
<li>Can correct 2 errors: 00000 11111 =&gt; 0000000111, the receive know that the original code is 0000011111 (the closest valid codeword)</li>
<li>Cannot correct 3 errors: 0000000000 =&gt; 0000000111, the error will not be corrected properly. </li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ul>
<h3 id="_9">典型检错码</h3>
<ul>
<li>常用的检错码包括：<ol>
<li><strong>奇偶检验</strong> (Parity Check)：1位奇偶校验是最简单、最基础的检错码</li>
<li><strong>校验和</strong> (Checksum)：主要用于TCP/IP体系中的网络层和传输层</li>
<li><strong>循环冗余校验</strong> (Cyclic Redundancy Check，CRC)：数据链路层广泛使用的校验方法</li>
</ol>
</li>
<li><strong>奇偶校验</strong><ol>
<li>1位奇偶校验：增加1位校验位，可以检查奇数位错误<ol>
<li>偶校验：保证1的个数为偶数个，例如： <br />
<img alt="image-20241010102411440" src="../photos/image-20241010102411440.png" /></li>
<li>奇校验：保证1的个数为奇数个，例如： <br />
<img alt="image-20241010102439639" src="../photos/image-20241010102439639.png" /></li>
</ol>
</li>
</ol>
</li>
<li><strong>校验和（只能检错，不能纠错）</strong><ol>
<li>TCP/IP体系中主要采用的校验方法 <br />
<img alt="image-20241010102602517" src="../photos/image-20241010102602517.png" /></li>
</ol>
</li>
<li><strong>循环冗余校验CRC</strong><ol>
<li>CRC校验码计算方法<ol>
<li>设原始数据D为k位二进制位模式</li>
<li>如果要产生n位CRC校验码，事先选定一个n+1位二进制位模式G (称为生成多项式，收发双方提前商定)，G的最高位为1</li>
<li>将原始数据D乘以2^n^ （相当于在D后面添加 n 个0），产生k+n位二进制位模式，用G对该位模式做模2除（异或运算，具体见示例），得到余数R（n位，不足n位前面用0补齐）即为CRC校验码 <br />
<img alt="image-20241010103129984" src="../photos/image-20241010103129984.png" /></li>
<li>举例  <br />
<img alt="image-20241010103413242" src="../photos/image-20241010103413242.png" /></li>
</ol>
</li>
<li>四个国际标准生成多项式 <br />
<img alt="image-20241010103859091" src="../photos/image-20241010103859091.png" />  <br />
  例如，以太网、无线局域网使用CRC-32生成多项式</li>
</ol>
</li>
</ul>
<h3 id="_10">典型纠错码</h3>
<ul>
<li><strong>设计纠错码</strong><ol>
<li>要求：m个信息位，r个校验位，纠正单比特错</li>
<li>对<span class="arithmatex">\(2^m\)</span>个有效信息中任何一个，有n个与其距离为1的无效码字：<ol>
<li>可以考虑将该信息对应的合法码字的n位逐个取反，得到n个距离为1的非法码字，需要n+1个位模式来标识</li>
</ol>
</li>
<li>因此有：<span class="arithmatex">\((n+1)2^m\le 2^n\)</span></li>
<li>利用 <span class="arithmatex">\(n=m+r\)</span> ，得到 <span class="arithmatex">\((m+r+1)\le 2^r\)</span></li>
<li>在给定m的情况下，利用该式可以得出纠正单比特错误校验位数的下界</li>
</ol>
</li>
<li><strong>海明码</strong><ol>
<li>目标：以奇偶校验为基础，如何找到出错位置，提供1位纠错能力</li>
<li>理解海明码编码过程，以 (15, 11)海明码为例<ol>
<li>例如：11比特的数据01011001101</li>
<li>11比特数据按顺序放入数据位</li>
<li>校验位：2的幂次方位（记为p1, p2, p4, p8）</li>
<li>每个校验位对数据位的子集做校验，缩小定位错误的范围 <br />
<img alt="image-20241010104809709" src="../photos/image-20241010104809709.png" /></li>
<li>问题：每个校验位如何计算？</li>
</ol>
</li>
<li>子集的选择与校验位计算 <br />
<img alt="image-20241010104921443" src="../photos/image-20241010104921443.png" /></li>
<li>码字的发送与接收<ol>
<li>如果发送过程中第7位出现差错，如何定位错误？  <br />
<img alt="image-20241010105130481" src="../photos/image-20241010105130481.png" /></li>
</ol>
</li>
<li>定位错误与纠正<ol>
<li>组1和组2的校验结果可以定位错误所在的列</li>
<li>例如：组1和组2校验结果都指明存在错误，可定位错误位于第4列  <br />
<img alt="image-20241010105256351" src="../photos/image-20241010105256351.png" /></li>
<li>其他出错情况判断 <br />
<img alt="image-20241010105332618" src="../photos/image-20241010105332618.png" /></li>
<li>概括 <br />
<img alt="image-20241010105533810" src="../photos/image-20241010105533810.png" />  <br />
出错位为1，正确位为0，可直接得出出错位置，比如加入第7为出错，检测结果为0111，正好为7</li>
</ol>
</li>
<li>海明码纠正的实现过程<ol>
<li>每个码字到来前，接收方计数器清零</li>
<li>接收方检查每个校验位k (k = 1, 2, 4 …)的奇偶值是否正确（每组运算）</li>
<li><strong>若 pk 奇偶值不对，计数器加 k</strong></li>
<li>所有校验位检查完后，若计数器值为0，则码字有效；若计数器值为 j，则第 j 位出错。例：若校验位p1、p2、p8出错，则第11位变反</li>
</ol>
</li>
<li>使用海明码纠正突发错误<ol>
<li>可采用k个码字（n = m + r）组成 k × n 矩阵，按列发送，接收方恢复成 k × n 矩阵</li>
<li>kr个校验位，km个数据位，可纠正最多为k个的突发性连续比特错</li>
</ol>
</li>
</ol>
</li>
<li><strong>卷积码（Convolutional Code）</strong>  <br />
<img alt="image-20241010111258423" src="../photos/image-20241010111258423.png" />  <br />
<img alt="image-20241010111316668" src="../photos/image-20241010111316668.png" />    <ol>
<li>Trellis diagram  <br />
<img alt="image-20241010111429445" src="../photos/image-20241010111429445.png" />  <br />
<strong>计算方式</strong>：从起点开始时考虑所有的情况，并且累加每条路径上每次输出结果的海明长度的值，当后续有不同路径通往同一个节点时，保留累计海明距离更小的那一条路径。</li>
</ol>
</li>
</ul>
<h2 id="_11">基本的数据链路层协议</h2>
<h3 id="_12">物理层、数据链路层和网络层的实现</h3>
<ul>
<li>物理层进程和某些数据链路层进程运行在专用硬件上（网络接口卡）</li>
<li>数据链路层进程的其他部分和网络层进程作为操作系统的一部分运行在CPU上，数据链路层进程的软件通常以设备驱动的形式存在</li>
</ul>
<p><img alt="a" src="../photos/image-20241010113438178.png" width="500px" /></p>
<h3 id="_13">关键假设</h3>
<h4 id="_14">分层进程独立假设</h4>
<ul>
<li>网络层、数据链路层、物理层为独立的进程</li>
<li>进程间通过传递消息实现通信</li>
</ul>
<h4 id="_15">提供可靠服务假设</h4>
<ul>
<li>提供可靠的、面向连接的服务</li>
<li>数据链路层发送的数据随时可向网络层获得</li>
</ul>
<h4 id="_16">只处理通信错误假设</h4>
<ul>
<li>仅处理通信错误</li>
<li>假设机器不会崩溃，不考虑断电、重启等引起的问题</li>
</ul>
<h3 id="_17">基本的协议定义</h3>
<p><img alt="image-20241010113745317" src="../photos/image-20241010113745317.png" /></p>
<h3 id="_18">乌托邦式单工协议</h3>
<h4 id="_19">假设</h4>
<ul>
<li>单工（Simplex）协议：数据单向传输</li>
<li>完美信道：帧不会丢失或受损</li>
<li>始终就绪：发送方/接收方的网络层始终处于就绪状态</li>
<li>瞬间完成：发送方/接收方能够生成/处理无穷多的数据</li>
</ul>
<h4 id="_20">乌托邦：完美但不现实的协议</h4>
<ul>
<li>不处理任何流量控制或纠错工作</li>
<li>接近于无确认的无连接服务，必须依赖更高层次解决上述问题</li>
</ul>
<h4 id="_21">代码举例</h4>
<p><img alt="image-20241010114219647" src="../photos/image-20241010114219647.png" /></p>
<h3 id="_22">无错信道上的停等式协议</h3>
<h4 id="_23">不再假设</h4>
<ul>
<li>接收方能够处理以无限高速进来的数据</li>
<li>发送方以高于接收方能处理到达帧的速度发送帧，导致接收方被“淹没”(overwhelming)</li>
</ul>
<h4 id="_24">仍然假设</h4>
<ul>
<li>通信信道不会出错（Error-Free）</li>
<li>数据传输保持单向, 但是需要双向传输链路（半双工物理信道）</li>
</ul>
<h4 id="-stop-and-wait">停-等式协议（stop-and-wait）</h4>
<ul>
<li>发送方发送一帧后暂停，等待确认（Acknowledgement）到达后发送下一帧</li>
<li>接收方完成接收后，回复确认接收</li>
<li>确认帧的内容是不重要的：哑帧（dummy frame）</li>
</ul>
<p><img alt="a" class="center-image" src="../photos/image-20241010114612953.png" /></p>
<h4 id="_25">代码举例</h4>
<p><img alt="image-20241010114700737" src="../photos/image-20241010114700737.png" /></p>
<h3 id="_26">有错信道上的单工停等式协议</h3>
<h4 id="_27">假设</h4>
<p>通信信道可能会出错，导致：</p>
<ul>
<li>帧在传输过程中可能会被损坏，接收方能够检测出来</li>
<li>帧在传输过程中可能会丢失 ，永远不可能到达接收方</li>
</ul>
<h4 id="_28">一个简单的解决方案</h4>
<p>发送方增加一个计时器(timer)，如果经过一段时间没有收到确认，发送方将超时，于是再次发送该帧</p>
<p><img alt="a" class="center-image" src="../photos/image-20241010114853798.png" /></p>
<h4 id="_29">考虑一个特别场景</h4>
<blockquote>
<ul>
<li>
<p>A发送帧A1</p>
</li>
<li>
<p>B收到了A1</p>
</li>
<li>
<p>B生成确认ACK</p>
</li>
<li>
<p>ACK在传输中丢失</p>
</li>
<li>
<p>A超时，重发A1</p>
</li>
<li>
<p>B收到A1的另一个副本（并把它交给网络层）</p>
</li>
</ul>
</blockquote>
<p><img alt="a" class="center-image" src="../photos/image-20241010115055089.png" /></p>
<h4 id="_30">其他的场景</h4>
<ul>
<li>另一个导致副本产生的场景是过长的延时 (long delay)</li>
</ul>
<h4 id="seqsequence-number">序号（SEQ：sequence number）</h4>
<ul>
<li>接收方需要区分到达的帧是第一次发来的新帧</li>
<li>让发送方在发送的帧的头部放一个序号，接收方可以检查它所收到的帧序号，由此判断这是个新帧还是应该被丢弃的重复帧。</li>
</ul>
<h5 id="bits">序号所需要的最小位数（bits）</h5>
<ul>
<li>
<p>在这个协议中，唯一不明确的地方出现在当前帧（序号m）和它的直接后续帧（序号m+1）</p>
</li>
<li>
<p>1 bit序号(0或1)就足以满足要求。</p>
</li>
</ul>
<h5 id="_31">自动重复请求，或带有重传的肯定确认</h5>
<ul>
<li>
<p>ARQ(Automatic Repeat reQuest)</p>
</li>
<li>
<p>PAR(Positive Acknowledgement with Retransmission)</p>
</li>
</ul>
<h4 id="_32">代码举例</h4>
<p><img alt="image-20241010115609152" src="../photos/image-20241010115609152.png" /></p>
<h4 id="_33">效率的评估</h4>
<blockquote>
<ul>
<li>F = frame size (bits) </li>
<li>R = channel capacity (Bandwidth in bits/second)</li>
<li>I = propagation delay + processor service time (second)</li>
<li>每帧发送时间 (Time to transmit a single frame) = F/R</li>
<li>总延迟 (Total Delay) = D =2I</li>
<li>停止等待协议的发送工作时间是F/C，空闲时间是D</li>
<li>当 F&lt;D 时：<strong>信道利用率 (line utilization)=F/(F+R·D)</strong> &lt; 50%</li>
</ul>
</blockquote>
<h4 id="_34">停止等待协议的效率问题</h4>
<ul>
<li>停止等待协议的问题是只能有一个没有被确认的帧在发送中</li>
<li>举例: 长肥网络<ul>
<li>Short frame length: 1000 bit frames</li>
<li>High bandwidth: 1 Mbps channel (卫星信道)</li>
<li>Long transit time: 270 ms propagation delay (传播延迟)</li>
</ul>
</li>
</ul>
<blockquote>
<p>长肥网络 (LFN，Long Fat Network)：如果一个网络的带宽-延迟乘积 (bandwidth-delay product) 很明显的大于 105 bits (~12 kB)，则可以被认为是长肥网络</p>
</blockquote>
<h5 id="_35">信道利用率很低</h5>
<ul>
<li>每一帧的发送时间是 1毫秒 (1000 bits/(1,000,000 bits/sec)) . 由于传播延迟较长，发送者在541毫秒之后才能收到确认，信道利用率1/541</li>
</ul>
<h5 id="_36">一种提高效率的方法：使用更大的帧</h5>
<ul>
<li>
<p>可以使用更大的帧，但是帧的最大长度受到信道比特错误率（BER，Bit Error Ratio）的限制，帧越大，在传输中出错的概率越高，将导致更多的重传</p>
</li>
<li>
<p><strong>使用更大的帧的问题</strong>，更容易出错，且错误检测更加困难</p>
</li>
</ul>
<h2 id="_37">滑动窗口协议</h2>
<h3 id="_38">停等协议的性能问题</h3>
<h4 id="-">停止-等待机制降低了信道利用率</h4>
<ul>
<li>设数据速率记为R，帧长度记为F，往返延迟记为D，则采用停-等协议的线路效率为：F/(F+R·D)</li>
<li>假如将链路看成是一根管道，数据是管道中流动的水，那么在传输延迟较长的信道上，停-等协议无法使数据充满管道，因而信道利用率很低</li>
</ul>
<h4 id="_39">解决办法</h4>
<ul>
<li>流水线协议或管道协议：允许发送方在没收到确认前<strong>连续发送</strong>多个帧</li>
</ul>
<h3 id="_40">协议基本思想</h3>
<h4 id="_41">窗口机制</h4>
<p>发送方和接收方都具有一定容量的缓冲区（即窗口），发送端在收到确认之前可以发送多个帧</p>
<h4 id="_42">目的</h4>
<p>对可以连续发出的最多帧数（已发出但未确认的帧）作限制</p>
<h4 id="_43">序号使用</h4>
<p>循环重复使用有限的帧序号</p>
<h4 id="_44">流量控制：接收窗口驱动发送窗口的转动</h4>
<ul>
<li>
<p>发送窗口：其大小记作<span class="arithmatex">\(W_T\)</span>，表示在收到对方确认的信息之前，可以连续发出的最多数据帧数</p>
</li>
<li>
<p>接收窗口：其大小记作<span class="arithmatex">\(W_R\)</span> ，为可以连续接收的最多数据帧数</p>
</li>
</ul>
<h4 id="_45">累计确认</h4>
<p>不必对收到的分组逐个发送确认，而是对按序到达的最后一个分组发送确认</p>
<h4 id="_46">发送窗口和接收窗口</h4>
<p><img alt="image-20241010143812097" src="../photos/image-20241010143812097.png" /></p>
<p><img alt="image-20241010143840059" src="../photos/image-20241010143840059.png" /></p>
<h3 id="_47">协议的实现分析</h3>
<p><img alt="image-20241010143918387" src="../photos/image-20241010143918387.png" /></p>
<p><img alt="image-20241010143934355" src="../photos/image-20241010143934355.png" /></p>
<h2 id="n">回退N协议（滑动窗口协议）</h2>
<h3 id="_48">协议设计思想</h3>
<h4 id="_49">出错全部重发</h4>
<ul>
<li>
<p>当接收端收到一个出错帧或乱序帧时，<strong>丢弃所有的后继帧</strong>，并且不为这些帧发送确认</p>
</li>
<li>
<p>发送端超时后，重传所有未被确认的帧</p>
</li>
</ul>
<h4 id="_50">适用场景</h4>
<ul>
<li>该策略对应接收窗口为1的情况，即只能按顺序接收帧</li>
</ul>
<h4 id="_51">优缺点</h4>
<ul>
<li>优点：连续发送提高了信道利用率</li>
<li>缺点：按序接收，出错后即便有正确帧到达也丢弃重传</li>
</ul>
<h3 id="_52">协议原理分析</h3>
<h4 id="_53">基本原理</h4>
<p>当发送方发送了N个帧后，若发现该N帧的前一个帧在计时器超时后仍未返回其确认信息，则该帧被判为出错或丢失，此时发送方就重新发送出错帧及其后的N帧</p>
<h4 id="_54">滑动窗口长度</h4>
<p>出错全部重发时，若帧序号为n位，接收窗口<span class="arithmatex">\(W_R=1\)</span>，发送窗口 <span class="arithmatex">\(W_T\le 2^n-1\)</span></p>
<p><img alt="image-20241010144314080" src="../photos/image-20241010144314080.png" /></p>
<h3 id="_55">协议的实现分析</h3>
<h4 id="_56">实现要点</h4>
<p>必须增加序号范围、发送方需要缓存多个分组</p>
<h4 id="_57">两个窗口</h4>
<ul>
<li>发送窗口：发送方维持一组连续允许发送的帧序号</li>
<li>接收窗口：接收方维持一组连续的允许接收帧序号</li>
</ul>
<h4 id="_58">发送方必须响应的三件事</h4>
<ul>
<li>上层的调用：检测有没有可以使用的序号，如果有就发送</li>
<li>收到ACK：对n号帧的确认采用<strong>累积确认</strong>的方式</li>
<li>超时事件：如果出现超时，就重传所有已发送未确认的分组</li>
</ul>
<h4 id="_59">发送方</h4>
<ol>
<li>窗口尺寸：<span class="arithmatex">\(1&lt;W_T\le 2^n-1\)</span>，最多连续发送窗口中的<span class="arithmatex">\(W_T\)</span>个PDU</li>
<li>窗口滑动：收到期望的ACK(k)：窗口底部移到PDU(k)，窗口顶部向前移动，始终保持窗口里有<span class="arithmatex">\(W_T\)</span>个PDU未确认。</li>
<li>窗口滑动后，发送新进入窗</li>
<li>超时重发： 超过T未收到期望的ACK，重发窗口中的PDU（回退整个窗口）</li>
<li>超次数失败：超过最大重发次数<span class="arithmatex">\(N_{max}\)</span>仍无正确应答</li>
</ol>
<h4 id="_60">接受方</h4>
<ol>
<li>窗口尺寸：<span class="arithmatex">\(W_R=1\)</span></li>
<li>按序接收：按照PDU编号依序接收，出错、乱序PDU一律丢弃</li>
<li>确认含义：ACK(k)表示对k-1及以前各编号的PDU的确认，同时期望接收第k号PDU</li>
<li>确认策略：按序到达的PDU可立即确认，也可延迟确认(收到多帧后一起确认)，但出错或乱序的PDU，确认ACK(k)（期望接收k号PDU）或不应答</li>
</ol>
<h4 id="_61">基本实现过程</h4>
<p><img alt="image-20241010163347113" src="../photos/image-20241010163347113.png" /></p>
<p><img alt="image-20241010163403184" src="../photos/image-20241010163403184.png" /></p>
<p><img alt="image-20241010163417886" src="../photos/image-20241010163417886.png" /></p>
<h2 id="_62">选择重传协议（滑动窗口协议）</h2>
<h3 id="_63">协议设计思想</h3>
<h4 id="_64">设计思想</h4>
<p>若发送方发出连续的若干帧后，收到对其中某一帧的否认帧，或某一帧的定时器超时， 则只重传该出错帧或计时器超时的数据帧</p>
<h4 id="_65">适用场景</h4>
<p>该策略对应接收窗口大于1的情况，即暂存接收窗口中序号在出错帧之后的数据帧</p>
<h4 id="_66">优缺点</h4>
<ul>
<li>优点：避免重传已正确传送的帧</li>
<li>缺点：在接收端需要占用一定容量的缓存</li>
</ul>
<h3 id="_67">协议原理分析</h3>
<h4 id="_68">基本原理</h4>
<ul>
<li>在发送过程中，如果一个数据帧计时器超时，就认为该帧丢失或者被破坏；接收端只把出错的的帧丢弃，其后面的数据帧保存在缓存中，并向发送端回复NAK；发送端接收到NAK时，只重传出错的帧</li>
<li>如果落在窗口内的帧从未接受过，那么存储起来，等比它序列号小的所有帧都正确接收后，按次序交付给网络层</li>
<li>接收端收到的数据包的顺序可能和发送的数据包顺序不一样，因此在数据包里必须含有顺序号来帮助接收端进行排序。</li>
</ul>
<h4 id="_69">滑动窗口长度</h4>
<p>​   发送窗口的尺寸：<span class="arithmatex">\(W_T\le 2^{n-1}\)</span> ，发送窗口应等于或小于序号空间的一半。否则会出现接收方在下一轮帧的接收时，发送方因为超时未接收到 ack 或者 ack 丢失而重发，导致接收方又收到这个帧并且放在了错误的轮次中。</p>
<h4 id="_70">实现要点</h4>
<p>​   在SR中，和GBN不同，SR是给每一个PDU设置定时器，发送端只重传出错PDU。接收端在接收到乱序的PDU的时候会进行缓存，当前面的PDU到达以后一起提交给上层</p>
<h4 id="_71">两个窗口</h4>
<ul>
<li>发送窗口：发送方维持一组连续允许发送的帧序号</li>
<li>接收窗口：接收方维持一组连续的允许接收帧序号</li>
</ul>
<h4 id="_72">发送方必须响应的三件事</h4>
<ul>
<li>上层的调用：检测有没有可以使用的序号，如果有就发送</li>
<li>收到ACK：如果收到的是最小序号的ACK，窗口滑动。如果收到其他序号的 ACK，进行标记</li>
<li>超时事件：每个PDU都有定时器，哪个超时重传哪个</li>
</ul>
<h4 id="_73">实现过程</h4>
<ul>
<li>发送方<ol>
<li>窗口尺寸：<span class="arithmatex">\(1&lt;W_T\le 2^{n-1}\)</span>，最多连续发送窗口中的WT个PDU</li>
<li>窗口滑动：与回退N帧协议相同</li>
<li>选择重发：收到NAK (k)，重发PDU (k)</li>
<li>超时重发：超过T未收到期望的ACK，重发当前超时未应答的PDU</li>
<li>超次数失败：超过最大重发次数 <span class="arithmatex">\(N_{max}\)</span> 仍无正确应答，报告上层失败</li>
</ol>
</li>
<li>接收方<ol>
<li>窗口尺寸：<span class="arithmatex">\(1&lt;W_R\le 2^{n-1}\)</span></li>
<li>窗口滑动：窗口底部数据上交，窗口向前滑动一步</li>
<li>窗口内接收：窗口内的PDU全部接收，存储出错的后续PDU，按序交付；窗口外的PDU一律丢弃</li>
<li>确认策略：按序到达的PDU可立即确认，也可延迟确认(收到多帧后一起确认)ACK (k)；出错用否定性确认NAK(k)（期望重发k号PDU）</li>
</ol>
</li>
</ul>
<p><img alt="image-20241017102113319" src="../photos/image-20241017102113319.png" /></p>
<p><img alt="image-20241017102133221" src="../photos/image-20241017102133221.png" /></p>
<p><img alt="image-20241017102147177" src="../photos/image-20241017102147177.png" /></p>
<h2 id="_74">数据链路协议实例</h2>
<h3 id="ppp">点到点链路层协议PPP</h3>
<h4 id="ppp_1">PPP协议简介</h4>
<ul>
<li>PPP (Point-to-Point Protocol)协议由IETF制定，1994年成为正式标准（RFC1661）</li>
<li>PPP协议是目前使用最多的数据链路层协议之一</li>
<li>能够在不同的链路上运行</li>
<li>能够承载不同的网络层分组</li>
<li>特点：简单、灵活</li>
</ul>
<h4 id="ppp_2">PPP协议实现的功能</h4>
<ul>
<li>利用帧定界符封装成帧</li>
<li>填充技术实现透明数据传输：字节填充、零比特填充</li>
<li>帧的差错检测</li>
<li>实时监测链路工作状态</li>
<li>设置链路最大传输单元（MTU）</li>
<li>网络层地址协商机制</li>
<li>数据压缩协商机制</li>
</ul>
<h4 id="ppp_3">PPP协议未实现的功能</h4>
<ul>
<li>帧数据的纠错功能<ul>
<li>数据链路层的PPP协议只进行检错，PPP协议是不可靠传输协议</li>
</ul>
</li>
<li>流量控制功能<ul>
<li>PPP协议未实现点到点的流量控制</li>
</ul>
</li>
<li>可靠传输功能<ul>
<li>PPP为不可靠协议，不使用帧的序号。不可靠网络中可能使用有序号的工作方式。</li>
</ul>
</li>
<li>多点连接功能<ul>
<li>PPP协议不支持多点线路，只支持点对点的链路通信。</li>
</ul>
</li>
<li>
<p>单工和半双工链路</p>
<ul>
<li>PPP协议支持全双工链路</li>
</ul>
</li>
<li>
<p><strong>只能检错，不能纠错</strong></p>
</li>
</ul>
<h4 id="ppp_4">PPP协议的构成</h4>
<p><img alt="image-20241017102747659" src="../photos/image-20241017102747659.png" /></p>
<h4 id="ppp_5">PPP协议的帧格式</h4>
<p><img alt="image-20241017102813502" src="../photos/image-20241017102813502.png" /></p>
<p><img alt="image-20241017103009030" src="../photos/image-20241017103009030.png" /></p>
<p><img alt="image-20241017103026359" src="../photos/image-20241017103026359.png" /></p>
<p><img alt="image-20241017103041225" src="../photos/image-20241017103041225.png" /></p>
<p><img alt="image-20241017103226531" src="../photos/image-20241017103226531.png" /></p>
<p><img alt="image-20241017103256835" src="../photos/image-20241017103256835.png" /></p>
<h4 id="ppp_6">PPP协议的工作状态及转换</h4>
<p><img alt="image-20241017103418226" src="../photos/image-20241017103418226.png" /></p>
<p><img alt="image-20241017103513127" src="../photos/image-20241017103513127.png" /></p>
<p><img alt="image-20241017103525050" src="../photos/image-20241017103525050.png" /></p>
<h3 id="pppoe">PPPoE</h3>
<h4 id="_75">概述</h4>
<p><img alt="image-20241017103618485" src="../photos/image-20241017103618485.png" /></p>
<p><img alt="image-20241017103645469" src="../photos/image-20241017103645469.png" /></p>
<h4 id="pppoe_1">PPPoE组网方式</h4>
<p>​不需要掌握</p>
<p><img alt="image-20241017103708123" src="../photos/image-20241017103708123.png" /></p>
<p><img alt="image-20241017103720349" src="../photos/image-20241017103720349.png" /></p>
<h4 id="pppoe_2">PPPoE报文格式</h4>
<p><img alt="image-20241017103820538" src="../photos/image-20241017103820538.png" /></p>
<p>​架构中 PPPoE 位于 Ethernet 的上层</p>
<p><img alt="image-20241017103912380" src="../photos/image-20241017103912380.png" /></p>
<h4 id="pppoe_3">PPPoE工作过程</h4>
<p><img alt="image-20241017103932456" src="../photos/image-20241017103932456.png" /></p>







  
  






  <h2 id="__comments">评论</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
  data-repo="NoneZJL/mymkdocs"
  data-repo-id="R_kgDOMETFiQ"
  data-category="Announcements"
  data-category-id="DIC_kwDOMETFic4Cjv-I"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="bottom"
  data-theme="preferred_color_scheme"
  data-lang="zh-CN"
  crossorigin="anonymous"
  async>
  </script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2024 NoneZJL
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "navigation.tracking", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>